\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[portuguese]{babel}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{geometry}
\usepackage{indentfirst}
\usepackage{setspace}
\usepackage{listings}
\usepackage{caption}
\usepackage{float}

\geometry{a4paper, left=3cm, right=2cm, top=3cm, bottom=2cm}

% Configura√ß√£o para exibi√ß√£o de c√≥digo
\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    showstringspaces=false,
    stringstyle=\color{red},
    commentstyle=\color{green},
    keywordstyle=\color{blue}
}

\title{An√°lise de Dados e Visualiza√ß√£o: Desenvolvimento de um Dashboard Interativo para An√°lise de Gastos de Deputados Federais}
\author{Matheus Galdino dos Santos Lira}

\begin{document}

\maketitle

\begin{abstract}
Este trabalho apresenta o desenvolvimento de um sistema de an√°lise e visualiza√ß√£o de dados dos gastos dos deputados federais brasileiros no ano de 2022. O projeto implementa um pipeline completo de ETL (Extract, Transform, Load) para coleta e processamento de dados da API da C√¢mara dos Deputados, seguido de an√°lises estat√≠sticas e visualiza√ß√µes interativas atrav√©s de um dashboard desenvolvido com Streamlit. O sistema permite a explora√ß√£o detalhada dos gastos parlamentares, oferecendo insights valiosos sobre o uso dos recursos p√∫blicos.
\end{abstract}

\tableofcontents
\listoffigures
\listoftables

\section*{Agradecimentos}
Agrade√ßo a todos que contribu√≠ram direta ou indiretamente para a realiza√ß√£o deste trabalho, especialmente aos professores e colegas que ofereceram suporte e orienta√ß√£o durante todo o processo de desenvolvimento.

\section{Introdu√ß√£o}
\subsection{Contextualiza√ß√£o}
A transpar√™ncia no uso dos recursos p√∫blicos √© um pilar fundamental da democracia. Neste contexto, a an√°lise dos gastos dos deputados federais se torna uma ferramenta essencial para o controle social e a fiscaliza√ß√£o do uso do dinheiro p√∫blico. Este projeto visa desenvolver um sistema completo de an√°lise e visualiza√ß√£o desses dados, tornando-os acess√≠veis e compreens√≠veis para a sociedade.

\subsection{Objetivos}
\begin{itemize}
    \item Desenvolver um pipeline ETL robusto para extra√ß√£o e processamento de dados da API da C√¢mara dos Deputados
    \item Implementar an√°lises estat√≠sticas dos gastos parlamentares
    \item Criar um dashboard interativo para visualiza√ß√£o e explora√ß√£o dos dados
    \item Documentar todo o processo de desenvolvimento e as decis√µes t√©cnicas tomadas
\end{itemize}

\section{Estrutura do Projeto}
\subsection{Organiza√ß√£o dos Arquivos}
O projeto est√° organizado da seguinte forma:

\begin{itemize}
    \item \texttt{etl.py}: Script principal respons√°vel pela extra√ß√£o, transforma√ß√£o e carga dos dados
    \item \texttt{dashboard/}: Diret√≥rio contendo os arquivos do dashboard interativo
    \begin{itemize}
        \item \texttt{1\_üìÑ\_Homepage.py}: P√°gina inicial do dashboard
        \item \texttt{get\_deputados.py}: Fun√ß√µes para obten√ß√£o de dados dos deputados
        \item \texttt{get\_despesas.py}: Fun√ß√µes para obten√ß√£o de dados de despesas
    \end{itemize}
    \item \texttt{requirements.txt}: Lista de depend√™ncias do projeto
    \item \texttt{.env}: Arquivo de configura√ß√£o com vari√°veis de ambiente
\end{itemize}

\subsection{Exemplos de C√≥digo}
\subsubsection{Configura√ß√£o do Ambiente}
O projeto utiliza vari√°veis de ambiente para configura√ß√£o. Exemplo de c√≥digo para carregar configura√ß√µes:

\begin{lstlisting}
import os
from dotenv import load_dotenv

# Carregar vari√°veis de ambiente
load_dotenv()

# Configura√ß√£o do logging
path_logs = os.getenv("PATH_LOGS", "./logs")
os.makedirs(path_logs, exist_ok=True)

logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s",
    handlers=[
        logging.FileHandler(f"{path_logs}/logs.log"),
        logging.StreamHandler()
    ]
)
\end{lstlisting}

\subsubsection{Extra√ß√£o de Dados}
Exemplo de c√≥digo para extra√ß√£o de dados da API:

\begin{lstlisting}
def verificar_proxima_pagina(data):
    for link in data['links']:
        if link['rel'] == 'next' and link['href']:
            return link['href']
    return False

# Buscar lista de deputados
url_base = "https://dadosabertos.camara.leg.br/api/v2"
url_deputados = f"{url_base}/deputados"

response = requests.get(url_deputados, params={"idLegislatura": 56})
dados_deputados = response.json()

df_deputados = pd.DataFrame(dados_deputados["dados"])
\end{lstlisting}

\subsubsection{Transforma√ß√£o de Dados}
Exemplo de c√≥digo para transforma√ß√£o dos dados:

\begin{lstlisting}
# Normaliza√ß√£o dos dados
df_deputados = df_deputados.rename(columns={
    'id': 'id_deputado',
    'nome': 'nome_deputado',
    'siglaPartido': 'partido'
})

# Tratamento de valores ausentes
df_deputados = df_deputados.fillna({
    'partido': 'SEM PARTIDO',
    'uf': 'ND'
})
\end{lstlisting}

\subsubsection{Visualiza√ß√£o no Dashboard}
Exemplo de c√≥digo para cria√ß√£o de visualiza√ß√µes no Streamlit:

\begin{lstlisting}
import streamlit as st
import plotly.express as px

# Configura√ß√£o da p√°gina
st.set_page_config(
    page_title="An√°lise de Gastos",
    page_icon="üìä",
    layout="wide"
)

# T√≠tulo
st.title("An√°lise de Gastos dos Deputados Federais")

# Gr√°fico de barras
fig = px.bar(
    df_gastos,
    x='deputado',
    y='valor',
    title='Gastos por Deputado'
)
st.plotly_chart(fig)
\end{lstlisting}

\section{Revis√£o Bibliogr√°fica}
\subsection{ETL (Extract, Transform, Load)}
O processo ETL √© fundamental para a prepara√ß√£o de dados para an√°lise. No contexto deste projeto, o ETL foi implementado para:
\begin{itemize}
    \item Extra√ß√£o: Obten√ß√£o dos dados da API da C√¢mara dos Deputados
    \item Transforma√ß√£o: Limpeza, normaliza√ß√£o e prepara√ß√£o dos dados
    \item Carga: Armazenamento em banco de dados relacional (MySQL/SQLite)
\end{itemize}

\subsection{Visualiza√ß√£o de Dados}
A visualiza√ß√£o de dados √© uma ferramenta poderosa para compreens√£o e comunica√ß√£o de informa√ß√µes. Neste projeto, utilizamos o Streamlit para criar um dashboard interativo que permite:
\begin{itemize}
    \item Visualiza√ß√£o geral dos gastos dos deputados
    \item An√°lise detalhada por deputado
    \item Comparativos entre diferentes per√≠odos
    \item Filtros por tipo de despesa
\end{itemize}

\section{Metodologia}
\subsection{Tecnologias Utilizadas}
\begin{itemize}
    \item Python: Linguagem principal de programa√ß√£o
    \item Pandas: Biblioteca para manipula√ß√£o e an√°lise de dados
    \item Streamlit: Framework para desenvolvimento de dashboards
    \item SQLAlchemy: ORM para intera√ß√£o com banco de dados
    \item MySQL/SQLite: Sistemas de gerenciamento de banco de dados
\end{itemize}

\subsection{Arquitetura do Sistema}
O sistema foi desenvolvido seguindo uma arquitetura modular, com componentes separados para:
\begin{itemize}
    \item Processamento de dados (ETL)
    \item An√°lise estat√≠stica
    \item Visualiza√ß√£o e interface do usu√°rio
\end{itemize}

\section{Desenvolvimento}
\subsection{Processo ETL}
O processo de ETL foi implementado utilizando Python e bibliotecas especializadas. A seguir, detalhamos cada etapa:

\subsubsection{Extra√ß√£o}
A extra√ß√£o dos dados foi realizada atrav√©s da API da C√¢mara dos Deputados (dadosabertos.camara.leg.br), utilizando a biblioteca requests. Foram coletados:
\begin{itemize}
    \item Dados b√°sicos dos deputados
    \item Informa√ß√µes detalhadas de cada parlamentar
    \item Despesas realizadas no ano de 2022
\end{itemize}

\subsubsection{Transforma√ß√£o}
O processo de transforma√ß√£o incluiu:
\begin{itemize}
    \item Normaliza√ß√£o dos dados
    \item Tratamento de valores ausentes
    \item Cria√ß√£o de chaves de relacionamento
    \item Estrutura√ß√£o em tabelas relacionais
\end{itemize}

\subsubsection{Carga}
Os dados foram armazenados em um banco de dados relacional, com suporte a:
\begin{itemize}
    \item MySQL: Para ambientes de produ√ß√£o
    \item SQLite: Para desenvolvimento e testes
\end{itemize}

\subsection{An√°lise de Dados}
As an√°lises implementadas incluem:
\begin{itemize}
    \item Distribui√ß√£o dos gastos por categoria
    \item Comparativo entre deputados
    \item An√°lise temporal dos gastos
    \item Identifica√ß√£o de padr√µes e outliers
\end{itemize}

\subsection{Desenvolvimento do Dashboard}
O dashboard foi desenvolvido utilizando Streamlit, oferecendo:
\begin{itemize}
    \item Interface intuitiva e responsiva
    \item Visualiza√ß√µes interativas
    \item Filtros din√¢micos
    \item Exporta√ß√£o de dados
\end{itemize}

\section{An√°lises e Visualiza√ß√µes}
\subsection{An√°lises Implementadas}
O sistema implementa diversas an√°lises sobre os dados dos deputados e seus gastos:

\subsubsection{An√°lise de Gastos por Categoria}
\begin{itemize}
    \item Distribui√ß√£o dos gastos por tipo de despesa
    \item Comparativo entre diferentes categorias
    \item Identifica√ß√£o de padr√µes de gastos
\end{itemize}

\subsubsection{An√°lise Temporal}
\begin{itemize}
    \item Evolu√ß√£o dos gastos ao longo do tempo
    \item Sazonalidade nos gastos
    \item Identifica√ß√£o de per√≠odos de maior gasto
\end{itemize}

\subsubsection{An√°lise por Regi√£o}
\begin{itemize}
    \item Comparativo de gastos entre estados
    \item M√©dia de gastos por regi√£o
    \item Identifica√ß√£o de padr√µes regionais
\end{itemize}

\subsection{Visualiza√ß√µes Implementadas}
O dashboard oferece diversas visualiza√ß√µes interativas:

\subsubsection{Gr√°ficos de Barras}
\begin{itemize}
    \item Compara√ß√£o de gastos entre deputados
    \item Distribui√ß√£o de gastos por categoria
    \item Evolu√ß√£o temporal dos gastos
\end{itemize}

\subsubsection{Gr√°ficos de Pizza}
\begin{itemize}
    \item Propor√ß√£o de gastos por categoria
    \item Distribui√ß√£o de deputados por partido
    \item Distribui√ß√£o por regi√£o
\end{itemize}

\subsubsection{Tabelas Interativas}
\begin{itemize}
    \item Lista detalhada de despesas
    \item Ranking de deputados por gastos
    \item Detalhamento por categoria
\end{itemize}

\subsection{Exemplos de An√°lises}
A seguir, apresentamos alguns exemplos de an√°lises realizadas:

\subsubsection{Distribui√ß√£o de Gastos}
A Figura \ref{fig:distribuicao_gastos} mostra a distribui√ß√£o dos gastos por categoria:

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{imagens/distribuicao_gastos.png}
\caption{Distribui√ß√£o dos gastos por categoria}
\label{fig:distribuicao_gastos}
\end{figure}

\subsubsection{Evolu√ß√£o Temporal}
A Figura \ref{fig:evolucao_temporal} apresenta a evolu√ß√£o dos gastos ao longo do tempo:

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{imagens/evolucao_temporal.png}
\caption{Evolu√ß√£o dos gastos ao longo do tempo}
\label{fig:evolucao_temporal}
\end{figure}

\subsubsection{Ranking de gastos dos Deputados}
A Figura \ref{fig:deputados_ranking.png} apresenta o ranking dos 20 deputados que mais gastaram:

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{imagens/deputados_ranking.png}
\caption{Top 20 deputados por valor total gasto}
\label{fig:deputados_ranking.png}
\end{figure}

\subsubsection{Gasto m√©dio por Deputador por Partido}
A Figura \ref{fig:gasto_deputado_partido.png} apresenta o gasto m√©dio por deputado por partido:

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{imagens/gasto_deputado_partido.png}
\caption{Gasto m√©dio por deputado por partido}
\label{fig:gasto_deputado_partido.png}
\end{figure}

\section{Desafios e Solu√ß√µes}
\subsection{Desafios Encontrados}
Durante o desenvolvimento do projeto, foram enfrentados diversos desafios:

\subsubsection{Desafios T√©cnicos}
\begin{itemize}
    \item Volume de dados: O grande volume de dados exigiu otimiza√ß√£o no processamento
    \item Limita√ß√µes da API: Necessidade de implementar pagina√ß√£o e tratamento de erros
    \item Performance do dashboard: Otimiza√ß√£o das visualiza√ß√µes para melhor performance
\end{itemize}

\subsubsection{Desafios de Neg√≥cio}
\begin{itemize}
    \item Qualidade dos dados: Necessidade de tratamento e valida√ß√£o
    \item Interpreta√ß√£o dos dados: Desenvolvimento de visualiza√ß√µes claras e intuitivas
    \item Atualiza√ß√£o dos dados: Implementa√ß√£o de processo de atualiza√ß√£o peri√≥dica
\end{itemize}

\subsection{Solu√ß√µes Implementadas}
Para superar os desafios, foram implementadas as seguintes solu√ß√µes:

\subsubsection{Otimiza√ß√£o de Performance}
\begin{itemize}
    \item Implementa√ß√£o de cache para dados frequentemente acessados
    \item Uso de √≠ndices no banco de dados
    \item Otimiza√ß√£o das consultas SQL
\end{itemize}

\subsubsection{Tratamento de Dados}
\begin{itemize}
    \item Implementa√ß√£o de valida√ß√£o de dados
    \item Tratamento de valores ausentes
    \item Normaliza√ß√£o de dados
\end{itemize}

\subsubsection{Melhorias na Interface}
\begin{itemize}
    \item Design responsivo
    \item Feedback visual para o usu√°rio
    \item Documenta√ß√£o clara das funcionalidades
\end{itemize}

\section{Resultados}
\subsection{Visualiza√ß√µes Implementadas}
O dashboard oferece diversas visualiza√ß√µes, incluindo:
\begin{itemize}
    \item Gr√°ficos de barras para compara√ß√£o de gastos
    \item Gr√°ficos de pizza para distribui√ß√£o de despesas
    \item Tabelas interativas com dados detalhados
    \item Mapas de calor para an√°lise temporal
\end{itemize}

\subsection{Insights Obtidos}
Atrav√©s da an√°lise dos dados, foi poss√≠vel identificar:
\begin{itemize}
    \item Padr√µes de gastos por regi√£o
    \item Diferen√ßas significativas entre deputados
    \item Categorias de despesas mais comuns
    \item Comportamentos at√≠picos que merecem aten√ß√£o
\end{itemize}

\section{Conclus√£o}
Este projeto demonstrou a viabilidade e import√¢ncia da an√°lise de dados no contexto da transpar√™ncia p√∫blica. Atrav√©s do desenvolvimento de um sistema completo de ETL e visualiza√ß√£o, foi poss√≠vel criar uma ferramenta valiosa para o acompanhamento dos gastos parlamentares. O dashboard desenvolvido facilita o acesso e compreens√£o dos dados, contribuindo para o fortalecimento do controle social.

\section{Refer√™ncias Bibliogr√°ficas}
\begin{thebibliography}{9}
\bibitem{streamlit}
Streamlit Documentation.
\url{https://docs.streamlit.io/}

\bibitem{pandas}
Pandas Documentation.
\url{https://pandas.pydata.org/docs/}

\bibitem{camara}
C√¢mara dos Deputados. Dados Abertos.
\url{https://dadosabertos.camara.leg.br/}

\bibitem{sqlalchemy}
SQLAlchemy Documentation.
\url{https://www.sqlalchemy.org/}

\end{thebibliography}

\end{document} 